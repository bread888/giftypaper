---
const today = new Date();
---

<footer class="site-footer">
	<div class="footer-meta">
		<p>&copy; {today.getFullYear()} GiftyPaper · Tutti i diritti riservati.</p>
		<div class="footer-links">
			<a href="/privacy">Privacy & Cookie</a>
		</div>
	</div>
	<div class="footer-socials">
		<a href="https://www.tiktok.com/@giftypaper" target="_blank" rel="noreferrer">TikTok</a>
		<a href="https://www.instagram.com/giftypaper" target="_blank" rel="noreferrer">Instagram</a>
	</div>
</footer>
<script>
	(() => {
		const root = document.documentElement;
		const baseMid = [220, 40, 84];
		const baseEnd = [255, 150, 193];
		const targetMid = [255, 82, 142];
		const targetEnd = [255, 120, 185];
		const lerp = (from, to, ratio) => Math.round(from + (to - from) * ratio);

		const update = () => {
			const docHeight = Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
			const viewport = window.innerHeight;
			const maxScroll = Math.max(docHeight - viewport, 1);
			const ratio = Math.min(1, window.scrollY / maxScroll);
			const mid = baseMid.map((value, idx) => lerp(value, targetMid[idx], ratio)).join(',');
			const end = baseEnd.map((value, idx) => lerp(value, targetEnd[idx], ratio)).join(',');
			root.style.setProperty('--bg-mid', mid);
			root.style.setProperty('--bg-end', end);
		};

		window.addEventListener('scroll', update, { passive: true });
		window.addEventListener('resize', update);
		update();
	})();
</script>
<style>
	.site-footer {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 1rem;
		padding: 2rem 1rem 3rem;
		color: rgba(var(--ink), 0.8);
		text-align: center;
	}

	.footer-meta {
		display: flex;
		flex-direction: column;
		gap: 0.35rem;
		align-items: center;
	}

	.footer-links {
		display: flex;
		gap: 0.5rem;
	}

	.footer-links a {
		text-transform: uppercase;
		letter-spacing: 0.3em;
		font-size: 0.7rem;
		color: rgb(var(--rosewood));
		text-decoration: none;
		border-bottom: 1px solid transparent;
		padding-bottom: 0.1rem;
	}

	.footer-links a:hover {
		border-color: rgb(var(--rosewood));
	}

	.footer-socials {
		display: inline-flex;
		gap: 1rem;
	}

	.footer-socials a {
		text-transform: uppercase;
		font-size: 0.8rem;
		letter-spacing: 0.3em;
		text-decoration: none;
		color: rgb(var(--rosewood));
		border-bottom: 1px solid transparent;
		padding-bottom: 0.1rem;
	}

	.footer-socials a:hover {
		border-color: rgb(var(--rosewood));
	}
</style>
